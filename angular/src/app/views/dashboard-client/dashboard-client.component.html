
<app-modal (closed)="onModalClosed()"></app-modal>

<div class="">
  <div class="container-fluid">
    <div class="row">
      @for (itemP of (images | paginate: { itemsPerPage: pageSize, currentPage: page, id: 'my-pagination-id' }); track $index) {
        @for (item of photographes; track $index) {
          @if (itemP.photographeId == item.id) {
            <ng-container class="col-md-3 col-sm-6 mb-4 position-relative">
              <div  class="col-3 mt-3">
                <div class="">
                  <div class="gallery">
                    <div class="image-container position-relative">
                      <div class="icon-container ">
                        <div class="like-button" (click)="toggleLike(itemP)">
                          <i class="fas fa-heart" [class.liked]="itemP.isLiked"></i>
                        </div>
                        <i class="fas fa-ellipsis-v" (click)="openModal(itemP.id)"></i>
                      </div>

                      <img  (click)="openModal(itemP.id)" [src]="'data:image/png;base64,' + itemP.url" class="card-img-top img-fluid" oncontextmenu="return false;" [alt]="itemP.title">
                      <div class="watermark middle rotated"> {{ item.signature }}</div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>
          }
        }
      }
    </div>
  </div>
</div>

<pagination-controls id="my-pagination-id" (pageChange)="page = $event"></pagination-controls>



@if (isVisible) {
  <div class="modall">
    <div class="modal-content">
      <span class="close" (click)="closeModall()">&times;</span>
      <h2>Se connecter pour bénéficier des avantages du site</h2>
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <!-- <div class="form-group">
          <label for="nom_client">Nom :</label>
          <input type="text" id="nom_client" formControlName="name" required>
        </div> -->
        <div class="form-group">
          <label for="email_client">Email Client:</label>
          <input type="email" id="email_client" formControlName="email_client" required>
          <div *ngIf="errorMessage" class="error-message text-danger pl-1">
            {{ errorMessage }}
          </div>
        </div>
        <div class="form-group">
          <label for="password">Mot de passe:</label>
          <input type="password" id="password" formControlName="password_client" required>
        </div>
        <span routerLink="/register-client" class="btn-link mb-4 text-info pl-1">J'ai pas encore de compte</span><br>

        <button class="btn btn-primary" type="submit">Se connecter</button>

      </form>

      <!-- <button class="btn btn-info pl-4 mt-3" (click)="Login()">Se connecter</button> -->
    </div>

  </div>


}
